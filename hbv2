-- Mini Hitbox Panel Pro (Jona Style)

local Players = game:GetService("Players")
local LP = Players.LocalPlayer

local Enabled = false
local HitboxSize = 6
local Boxes = {}
local Names = {}

-- GUI
local gui = Instance.new("ScreenGui", game.CoreGui)

local panel = Instance.new("Frame", gui)
panel.Size = UDim2.new(0,150,0,70)
panel.Position = UDim2.new(0.05,0,0.45,0)
panel.BackgroundColor3 = Color3.fromRGB(10,10,10)
panel.Active = true
panel.Draggable = true

local title = Instance.new("TextLabel", panel)
title.Size = UDim2.new(1,0,0,22)
title.BackgroundTransparency = 1
title.Text = "Hitbox | OFF"
title.TextColor3 = Color3.new(1,1,1)
title.TextScaled = true

local toggle = Instance.new("TextButton", panel)
toggle.Position = UDim2.new(0.05,0,0.45,0)
toggle.Size = UDim2.new(0.4,0,0,22)
toggle.Text = "OFF"
toggle.BackgroundColor3 = Color3.fromRGB(40,40,40)
toggle.TextColor3 = Color3.new(1,1,1)

local sizeBox = Instance.new("TextBox", panel)
sizeBox.Position = UDim2.new(0.5,0,0.45,0)
sizeBox.Size = UDim2.new(0.45,0,0,22)
sizeBox.Text = tostring(HitboxSize)
sizeBox.BackgroundColor3 = Color3.fromRGB(40,40,40)
sizeBox.TextColor3 = Color3.new(1,1,1)

toggle.MouseButton1Click:Connect(function()
    Enabled = not Enabled
    toggle.Text = Enabled and "ON" or "OFF"
    title.Text = Enabled and "Hitbox | ON" or "Hitbox | OFF"

    if not Enabled then
        for _,b in pairs(Boxes) do
            if b then b:Destroy() end
        end
        Boxes = {}
    end
end)

sizeBox.FocusLost:Connect(function()
    local v = tonumber(sizeBox.Text)
    if v then
        HitboxSize = math.clamp(v,2,20)
    end
end)

-- NAME ESP
local function addName(plr)
    if plr == LP then return end

    plr.CharacterAdded:Connect(function(char)
        task.wait(1)
        local hrp = char:WaitForChild("HumanoidRootPart")

        local bill = Instance.new("BillboardGui",hrp)
        bill.Size = UDim2.new(0,100,0,25)
        bill.AlwaysOnTop = true

        local txt = Instance.new("TextLabel",bill)
        txt.Size = UDim2.new(1,0,1,0)
        txt.BackgroundTransparency = 1
        txt.Text = plr.Name
        txt.TextColor3 = Color3.new(1,1,1)
        txt.TextStrokeTransparency = 0

        Names[plr] = bill
    end)
end

for _,p in pairs(Players:GetPlayers()) do
    addName(p)
end
Players.PlayerAdded:Connect(addName)

-- HITBOX LOOP
task.spawn(function()
    while task.wait(0.4) do
        if Enabled then
            for _,p in pairs(Players:GetPlayers()) do
                if p ~= LP and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                    local hrp = p.Character.HumanoidRootPart
                    hrp.CanCollide = false

                    if not Boxes[p] then
                        local box = Instance.new("BoxHandleAdornment")
                        box.Adornee = hrp
                        box.AlwaysOnTop = true
                        box.ZIndex = 10
                        box.Color3 = Color3.fromRGB(160,160,160)
                        box.Transparency = 0.4 -- visible pero no s√≥lido
                        box.Parent = hrp
                        Boxes[p] = box
                    end

                    Boxes[p].Size = Vector3.new(HitboxSize,HitboxSize,HitboxSize)
                end
            end
        end
    end
end)
